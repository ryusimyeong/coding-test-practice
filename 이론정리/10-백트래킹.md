# 백트래킹

- 제약 조건 만족 문제에서 해를 찾기 위한 전략
  - 해를 찾기 위해 후보군에 제약 조건을 점진적으로 체크하다가 해당 후보군이 제약 조건을 만족할 수 없다고 판단되는 즉시 backtrack(다시는 이 후보군을 체크하지 않음)하고 다른 후보군으로 넘어가며 최적해를 찾는 방법
- 실제 구현 시 고려할 수 있는 모든 경우의 수를 상태공간트리를 통해 표현한다.
  - 각 후보군은 DFS로 확인
  - 상태 공간 트리를 탐색하면서 제약이 맞지 않으면 해의 후보가 될만한 곳으로 바로 넘어가서 탐색한다.
    - Promising: 해당 루트가 조건에 맞는지를 검사하는 기법
    - Pruning: 가지치기. 조건에 맞지 않으면 포기하고 다른 루트로 바로 돌아서서 탐색의 시간을 절약하는 기법
- 백트래킹은 트리 구조를 기반으로 DFS를 진행하면서 각 루트가 조건에 부합하는지 확인(Promising)하고 조건에 맞지 않는 노드를 발견하면 해당 루트는 더이상 탐색하지 않고 가지를 쳐버린다(Pruning).

## 상태공간트리

- 문제 해결 과정의 중간 상태를 각각의 노드로 나타낸 트리

<img src="https://www.fun-coding.org/00_Images/statespacetree.png" width=300>

> 출처: https://www.fun-coding.org/

## N Queen 문제

- 대표적인 백트래킹 문제
- N x N 크기의 체스판에 N개의 퀸을 서로 공격할 수 없도록 배치하는 문제

### Pruning

- 한 행에는 하나의 퀸만 위치할 수 있다.
- 맨 위에 있는 행부터 퀸을 배치하고, 다음행에 해당 퀸이 이동할 수 없는 위치를 찾아 퀸을 배치한다.
- 만약 앞선 행에 배치한 퀸으로 인해 다음 행에 퀸들이 이동할 있는 위치가 없을 경우에는 더이상 퀸을 배치하지 않고 이전 행의 퀸의 배치를 바꾼다.
  - 맨 위의 행부터 전체 행까지 퀸의 배치가 가능한 경우의 수를 상태 공간 트리 형태로 만든 후 각 경우를 맨 위의 행부터 DFS 방식으로 접근, 해당 경우가 진행이 어려울 경우 더 이상 진행하지 않고 다른 경우를 체크

### Promising

- 해당 루트가 조건에 맞는지 검사
- 수평이동: 한 행에는 하나의 퀸만 위치할 수 있다.
- 수직이동 체크, 대각선 이동 체크

## 구현

